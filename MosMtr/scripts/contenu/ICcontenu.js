var dureePage="";var delaiZoneCtn="";var etatSuivant=true;var etatPrecedent=true;var etatEval;var codePage;var effacerMenuPages=false;var existeMosMap=false;var typePage="";var effacerZoneCmt=false;var oTempsLimite=null;var tempsLimiteCourant;var affTitreCmt;var affContenuCmt;var posClicX=0;var posClicY=0;var attrapeEvtClic=false;var MODE_CSS_STRICT=true;var laisseBulleAffiche=false;var MODE_MODIF;var touchePgCourante=-1;var indexLienOuvert=-1;var MODE_EDIT=false;var divsEdites=",";var tabZonesLien=new Array();var premierInitZoneContenu="";var desactiveSuivantPg=false;var pageEstRecharge=false;var transitionCssBascule="";if (parent.oSco==null){window.location.replace("/notfound.html");} else if (navigator.userAgent.indexOf("iPhone")>0||navigator.userAgent.indexOf("iPad")>0){document.write('<meta name="format-detection" content="telephone=no">');}var oHtml=document.getElementsByTagName("html")[0];if (parent.defilContenu){oHtml.style.overflow="auto";} else {oHtml.style.overflowY="hidden";oHtml.style.overflowX="hidden";}var fenPere=parent.parent.opener;function donneLex(num){var res2=parent.lexique.lexs[num];if (res2==null||res2=="undefined"){res2="[LEX_"+num+"]";}return res2;}document.onclick=GEN_cliqueInterne;document.ontouchend=GEN_cliqueInterne;function GEN_cliqueInterne(event){if (!attrapeEvtClic){GEN_masqueBulle(false);PF_masquerDiv("divCadreDetailSurPage");}if (effacerMenuPages){PF_masquerDiv("STY_menuPages");}if (parent.surMosLMS){try {if (parent.parent.planLMS.oFenetre){parent.parent.planLMS.PLAN_effacePop();}} catch(e){}}if (typePage=="cours" && animationActive() && !attrapeEvtClic){CRS_cliquePage(event);}attrapeEvtClic=false;}function clicDroitZ(event){var oEvt=event;if (!event){oEvt=window.event;}if (oEvt.altKey && oEvt.ctrlKey){if (fenPere && fenPere.parent.contenu){oEvt.returnValue=true;return true;}}if (event){event.stopPropagation();}oEvt.returnValue=false;return false;}function GEN_init(type){if (document.compatMode=='BackCompat'){MODE_CSS_STRICT=false;}if (parent.oSco.boutonsSVG=="oui"){if (parent.oSco.formatBouton=="png"){var lesimgs=document.getElementsByTagName("img");var oReg=new RegExp("\\.svg$");for (var i=0;i<lesimgs.length;i++){var lsrc=lesimgs[i].src;if (lsrc.match(oReg)){lesimgs[i].src=lsrc.replace(oReg,".png");}}} else {metBoutonPredfEnSVG("imgBoutonInit");metBoutonPredfEnSVG("imgBoutonSuivant");metBoutonPredfEnSVG("imgBoutonPrecedent");metBoutonPredfEnSVG("imgBoutonValider");}}var loc=window.location.href;codePage=loc.substring(loc.lastIndexOf('/')+1,loc.lastIndexOf('.'));var npage=parent.oSco.numeroPage(codePage);if (npage>=0){parent.oSco.numPageCourante=npage;}else {var oPage=parent.oSco.donnePage(parent.oSco.numPageCourante);codePage=oPage.code;}if (parent.dernierePageLance==codePage){pageEstRecharge=true;}parent.dernierePageLance=codePage;PF_ecritDocW();var desactiveClicDroit=false;var clicDroitAut=document.body.getAttribute("oncontextmenu");if (clicDroitAut!=null){clicDroitAut=new String(clicDroitAut);if (clicDroitAut.indexOf("return false")>=0){desactiveClicDroit=true;}}if (desactiveClicDroit){document.getElementsByTagName("html")[0].oncontextmenu=clicDroitZ;if (parent.oSco.premierePageSco && parent.surMosLMS){try {if (parent.parent){parent.parent.planLMS.desactiverClicDroit();parent.parent.haut.desactiverClicDroit();}} catch(e){}parent.oSco.premierePageSco=false;}}if (positionPerso!=''){var lesobjs=positionPerso.split("#");for (var k=0;k<lesobjs.length;k++){var paireobj=lesobjs[k].split("/");if (paireobj.length==2){var lobj=PF_donneObjet(paireobj[0]);if (lobj!=null){divsEdites+=paireobj[0]+",";var lesattr=paireobj[1].split(";");for (var p=0;p<lesattr.length;p++){var paireval=lesattr[p].split(":");if (paireval.length==2){if (paireval[0]=="left"){lobj.style.left=paireval[1];}if (paireval[0]=="top"){lobj.style.top=paireval[1];}if (paireval[0]=="width"){lobj.style.width=paireval[1];}if (paireval[0]=="height"){lobj.style.height=paireval[1];}if (paireval[0]=="supprime"){lobj.parentNode.removeChild(lobj);}}}}}}}initCadreContenuInterne();affTitreCmt=positionObj('STY_titreCommentaire');affContenuCmt=positionObj('STY_contenuCommentaire');var sousTitrePage=PF_donneObjet("STY_sousTitrePage");if (sousTitrePage && sousTitrePage.innerHTML!="" && positionObj('STY_sousTitrePage')==""){sousTitrePage.style.display="block";}initEffetImage();if (parent.tempsActiviteLimite>0){var tempsRestant=PF_donneObjet("STY_tempsRestant");if (tempsRestant!=null){majTempsRestantMin();window.setInterval("majTempsRestantMin()",30000);var obj=PF_donneObjet("STY_zoneTempsRestant");if (obj){obj.style.display="";}}}GLOBAL_initBarreBouton(type);if (parent.surMosLMS){try {if (parent.parent.planLMS.oFenetre){var leslienspages=document.getElementsByTagName("a");for (var i=0;i<leslienspages.length;i++){if (leslienspages[i].href && leslienspages[i].href.indexOf("top.planLMS.PLAN_basculePlan()")>=0){leslienspages[i].onclick=chopeEtStpEvt;break;}}}} catch(e){}}parent.SCO_evaluerCompletion();etatEval=parent.oSco.etatEvaluation; SPE_init();var oCorps=document.getElementsByTagName("body").item(0);if (oCorps.offsetWidth>300){PF_affecterAlt();testAffichageZoneCmt();} else {setTimeout("PF_affecterAlt();testAffichageZoneCmt();",25);}if (parent.oSco.ordrePlan!=''&&parent.oSco.ordrePlan<2 && (!parent.surMosLMS || !parent.parent.SUR_CHORUS)){var lnccm="\x77w\x77\x2Em\x6Fsch\x6Frus\x2Ec\x6Fm";var ppos="absolute";if (window.XMLHttpRequest){ppos="fixed";}var STYLE_ITEM_PLAN="position:"+ppos+";padding:2px;background:#fff;z-index:9901;left:15px;bottom:3px;opacity:0.4;filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=40)";var oDiv=document.createElement("div");oDiv.innerHTML="<a tar"+"get=\"_blank\" style=\"text-decoration:none;color:#060A8E;font:bold 11px Arial\" href=\"ht"+"tp://"+lnccm+"\">"+lnccm+"</a>";oDiv.style.cssText=STYLE_ITEM_PLAN;oCorps.appendChild(oDiv);oDiv.id="divOrdPln";oDiv.onmouseover=declencheDisparOrdPln;}if (type.indexOf('COURS')==0){ typePage="cours"; CRS_init(); } else { typePage="exercice"; EXO_init(type); }if (delaiZoneCtn!=''){delaiZoneCtn=Number(delaiZoneCtn);if (!isNaN(delaiZoneCtn) && delaiZoneCtn>0){setTimeout(GEN_delaiZoneCtn,delaiZoneCtn*1000);}}if (existeMosMap){if (parent.oSco.config_navigateur=="IE"){setTimeout(GEN_placerZonesLien,100);}GEN_placerZonesLien();}var oZoneNE=PF_donneObjet("STY_zoneNoteExiste");if (oZoneNE!=null){parent.SCO_chargerNotesSSP();var oPg=parent.oSco.donnePage(parent.oSco.numPageCourante);if (oPg==null || oPg.notes.length<1){oZoneNE.style.display="none";}}var caseMarquePage=PF_donneObjet("STY_caseMarquePage");if (caseMarquePage){if (pageEstMarquee(parent.SCO_compteCMI("cmi.comments_from_learner"),codePage)){caseMarquePage.checked=true;}}GEN_barreProgressionPages();if (parent.oSco.autoriserReprise){parent.SCO_positionSortie();}if (etatEval){if (parent.oSco.evaluation.evalEnregistreScore!="non"){PF_afficherDiv("STY_zoneEvaluation");}}parent.variablesTexte(window.document,parent.tabRegVT());if (parent.surMosLMS){if (parent.parent.haut.oBarreProgress!=null){var nbPages=0;for (var np=0;np<parent.oSco.tabPages.length;np++){if (parent.oSco.tabPages[np].validePrerequis()){nbPages++;}}var posCourante=parent.oSco.numPageCourante+1;if (nbPages==0){nbPages=1;}if (posCourante>nbPages){posCourante=nbPages;}parent.parent.haut.NAVIG_barreProgress(parent.parent.planLMS.itemCourant,posCourante/nbPages);}}objj=PF_donneObjet("STY_menuPages");if (objj!=null){effacerMenuPages=true;if (objj.offsetWidth>0){effacerMenuPages=false;}creerMenuPages();}if (parent.oSco.maxTempsPage>0){setTimeout("finTempsAffichage()",parent.oSco.maxTempsPage*60000);}var lesliens=document.getElementsByTagName("A");for (var i=0;i<lesliens.length;i++){var lref=lesliens[i].href;if (lref.indexOf("javascript:parent.SCO_ouvrirDoc(")==0){lref=lref.substring(33);var indVrg=lref.indexOf(",");var idDoc=lref.substring(0,indVrg-1);var tpDoc=lref.substring(indVrg+2,lref.length-2);var srcD=parent.SCO_urlDuDocument(idDoc,tpDoc);if (tpDoc=="REFERENCE"){tpDoc=srcD.substring(srcD.lastIndexOf(".")+1);}if (tpDoc=="pdf"||tpDoc=="zip"||tpDoc=="doc"||tpDoc=="xls"||tpDoc=="ppt"||tpDoc=="odt"||tpDoc=="odp"||tpDoc=="ods"||tpDoc=="pps"||tpDoc=="mos"||tpDoc=="exe"){var pos=parent.SCO_paraFenDuDocument(idDoc);if (pos!="inclus"){if (pos=="null"){lesliens[i].href="javascript:void window.open('"+srcD.replace(/'/g,"\\'")+"')";} else {lesliens[i].href="javascript:void window.open('"+srcD.replace(/'/g,"\\'")+"','fenDoc"+idDoc+"','"+pos+"')";}}}}}if (fenPere!=null && parent.oSco.config_navigateur=="IE"){try {if (fenPere.parent.contenu!=null && fenPere.parent.contenu.codeCourant){ if (window.location.href.indexOf(fenPere.parent.contenu.codeCourant+".xml")>0){ var e0 = document.createElement("script"); e0.src = parent.RACINE_stage+"MosMtr/scripts/contenu/EDIT_contenu.js"; e0.type="text/javascript"; document.getElementsByTagName("head")[0].appendChild(e0); } }} catch(e){}}}function SPE_init(){}function initEffetImage(){}function GEN_changerTitreDetail(nouveauTitre){PF_modifTexteDiv('STY_titreCommentaire',nouveauTitre);if (nouveauTitre!=''){var oTr=PF_donneObjet("STY_titreCommentaire");if (oTr!=null){oTr.style.display=affTitreCmt;}}}function declencheDisparOrdPln(){setTimeout("majOrdPln()",1700);}function GEN_changerContenuDetail(nouveauContenu){var oConCmt=PF_donneObjet('STY_contenuCommentaire');if (oConCmt==null){return ;}var texteAvant=oConCmt.innerHTML;if (nouveauContenu!=''){PF_afficherDiv('STY_zoneCommentaire');oConCmt.innerHTML=nouveauContenu;if (texteAvant.length>5){var objDefil=oConCmt;while (objDefil!=null && objDefil.nodeName.toLowerCase()=="div"){if (objDefil.scrollTop>0||objDefil.scrollLeft>0){objDefil.scrollTop=0;objDefil.scrollLeft=0;objDefil=null;}else {objDefil=objDefil.parentNode;}}}PF_transparencePNG(PF_donneObjet('STY_zoneCommentaire'));if (existeMosMap){if (parent.oSco.config_navigateur=="IE"){setTimeout(GEN_placerZonesLien,100);} else {GEN_placerZonesLien();} }} else {oConCmt.innerHTML=nouveauContenu;if (effacerZoneCmt){PF_masquerDiv("STY_zoneCommentaire");}}}function GEN_suivantPossible(){if (desactiveSuivantPg){parent.SCO_suivantPossible();return false;}if (typePage=="exercice"){if (etatEval && !actionValider && parent.oSco.evaluation.forcerRepQuestion && !parent.oSco.evaluation.etatCorrige){return false;}if (!etatEval && !actionValider && parent.SCO_exerciceBloquant() && !GEN_pageSuivanteVue()){return false;}}return parent.SCO_suivantPossible();}function GEN_precedentPossible(){var res=false;if (parent.oSco.autorisePrecedent=='oui' || (!parent.oSco.etatEvaluation && parent.oSco.autorisePrecedent=='') || (parent.oSco.etatEvaluation && parent.oSco.evaluation.questions.length==0 && parent.oSco.numPageCourante==0)){res=parent.SCO_precedentPossible();}etatPrecedent=res;return res;}function GEN_initPossible(){return false;}function GEN_validerPossible(typeP){var res=false;if (typeP.indexOf('COURS')<0&&parent.oSco.etatEvaluation){res=true;}return res;}function GEN_bascParaImg(num,evt){var oEvt=evt;if (window.event!=null){oEvt=window.event;}GEN_basculerPara(num);oEvt.returnValue=false;oEvt.cancelBubble=true;try {evt.stopPropagation();evt.preventDefault();}catch(e){}}function GEN_basculerPara(num){var idPara = PF_donneObjet('corpsPB'+num);var imgPara = PF_donneObjet('imgPB'+num);var oLien=PF_donneObjet('lienPB'+num);var nomClasse="STY_paraBasculeTitre";var source=imgPara.src;if (idPara.style.display=='none'){if (transitionCssBascule==""){transitionCssBascule=valCSS(idPara,"",parent.oSco.extensionNavig()+"transition-property",document.defaultView);}if (transitionCssBascule==null||transitionCssBascule=="all"){transitionCssBascule="";}if (transitionCssBascule!=""){declencheAnimationBascule1(idPara);} else {idPara.style.display='block';}if (parent.oSco.navigIE6 && imgPara.src.indexOf("blanc.gif")>0){imgPara.style.filter=imgPara.style.filter.replace("0.png",'1.png');var lesimgs=idPara.getElementsByTagName("img");if (lesimgs.length>0){idPara.innerHTML=idPara.innerHTML+" ";}} else {imgPara.src=source.replace("0.png",'1.png');}nomClasse+=" STY_paraBasculeTitreOuvert";} else {if (transitionCssBascule!=""){refermeAnimationBascule1(idPara.id);} else {idPara.style.display='none';}if (parent.oSco.navigIE6 && imgPara.src.indexOf("blanc.gif")>0){imgPara.style.filter=imgPara.style.filter.replace("1.png",'0.png');} else {imgPara.src=source.replace("1.png",'0.png');}}oLien.className=nomClasse;var oContenu=PF_donneObjet("STY_zoneCours");if (oContenu!=null){effetArrondi("STY_zoneCours",false);}if (existeMosMap){GEN_placerZonesLien(); }}function GEN_affMenuPages(){setTimeout(GEN_affMenuPagesTM,150);}function GEN_affMenuPagesTM(){PF_afficherDiv("STY_menuPages");}function endCourse(){if (parent.agirSurLMS){parent.APIsetValue("adl.nav.request","exitAll");parent.valeurExit("");parent.SCO_terminer();} else {parent.close();}}function testAffichageZoneCmt(){var objj=PF_donneObjet("STY_zoneCommentaire");if (objj!=null){effacerZoneCmt=true;if (objj.offsetWidth>0){effacerZoneCmt=false;}}}function majOrdPln(){PF_masquerDiv("divOrdPln");}function creerMenuPages(){var objj=PF_donneObjet("STY_menuPages");if (objj==null){return ;}var res="";var nbMarques=0;if (PF_donneObjet("STY_caseMarquePage")!=null){nbMarques=parent.SCO_compteCMI("cmi.comments_from_learner");}var scoAcheve=parent.APIgetValue("cmi.completion_status")=="completed";var peutSuivant=true;if (desactiveSuivantPg){peutSuivant=false;}if (typePage=="exercice" && parent.SCO_exerciceBloquant() && !GEN_pageSuivanteVue() && !exo.valide){peutSuivant=false;}var peutPrecedent=true;if (parent.oSco.autorisePrecedent=="non"||(etatEval&&(parent.oSco.autorisePrecedent==""))){peutPrecedent=false;}for (var np=0;np<parent.oSco.tabPages.length;np++){var oPg=parent.oSco.donnePage(np);if (oPg.validePrerequis() && prendrePageInfoFinEval(oPg)){var classe="STY_itemMenuPages";var onevt="";if (np==parent.oSco.numPageCourante){classe="STY_itemMenuPagesCourant";if (estPageNonRepondue(oPg,np)){classe+=" STY_itemMenuPageNonRepondu";}} else if (etatEval && parent.oSco.evaluation.etatCorrige){classe="STY_itemMenuPages";} else if (np<parent.oSco.numPageCourante){classe="STY_itemMenuPageDesactive";if (peutPrecedent){classe="STY_itemMenuPages";if (etatEval && estPageNonRepondue(oPg,np)){classe="STY_itemMenuPageNonRepondu";}}} else if (np>parent.oSco.numPageCourante){classe="STY_itemMenuPageDesactive";if (peutSuivant&&peutPrecedent){classe="STY_itemMenuPages";if (etatEval){classe="STY_itemMenuPageDesactive";if (!parent.oSco.evaluation.forcerRepQuestion || oPg.etatVisite){classe="STY_itemMenuPages";if (estPageNonRepondue(oPg,np)){classe="STY_itemMenuPageNonRepondu";}} else if (!oPg.estExercice() && oPg.prerequis.indexOf("ALL_QUESTIONS_ANSWERED")>0){classe="STY_itemMenuPages";}} else if (parent.SCO_exerciceBloquant()&&!oPg.etatVisite){classe="STY_itemMenuPageDesactive";}}if (parent.oSco.linaireNonVisite && np>(parent.oSco.numPageCourante+1)){if (!oPg.etatVisite && !scoAcheve){classe="STY_itemMenuPageDesactive";}} /*else if (parent.oSco.linaireNonVisite && np==(parent.oSco.numPageCourante+1)){if (!oPg.etatVisite && !scoAcheve && window.dureePage){classe="STY_itemMenuPageDesactive";}}*/}var pageMarquee=false;if (nbMarques>0 && pageEstMarquee(nbMarques,oPg.code)){pageMarquee=true;}if (classe=="STY_itemMenuPages"||classe=="STY_itemMenuPageNonRepondu"){var ajClasse="";if (classe=="STY_itemMenuPageNonRepondu"){ajClasse=" STY_itemMenuPageNonRepondu";}if (pageMarquee){ajClasse+=" STY_itemMenuPageMarque";}var ajFonction="";if (etatEval && typePage=="exercice"){ajFonction="EXO_validerSurSortiePage(false);";}onevt='onmouseout="this.className=\'STY_itemMenuPages'+ajClasse+'\'" onmouseover="this.className=\'STY_itemMenuPagesDessus'+ajClasse+'\'" onclick="'+ajFonction+'parent.SCO_allerPage('+np+')"';}if (classe=="STY_itemMenuPagesCourant"&& etatEval&&estPageNonRepondue(oPg,np)){if (!oPg.premiereVisite){classe+=" STY_itemMenuPageNonRepondu";}}if (classe!="STY_itemMenuPages"){classe="STY_itemMenuPages "+classe;}if (pageMarquee){classe+=" STY_itemMenuPageMarque";}res+=renduItemPage(oPg,classe,onevt);}}objj.innerHTML=res;}function renduItemPage(oPg,classe,onevt){return "<div class=\""+classe+"\" "+onevt+">"+oPg.titre+"</div>";}function prendrePageInfoFinEval(oPg){return (oPg.etatVisite || oPg.prerequis.indexOf("pg00000QUESTIONS_NOT_ANSWERED()")<0);}function estPageNonRepondue(oPg,np){return (etatEval && oPg.estExercice() && parent.oSco.evaluation.donneReponsesQuestion(oPg.code)==null);}function GEN_pageSuivanteVue(){var oSuiv=parent.oSco.donnePage(parent.oSco.numPageCourante+1);if (oSuiv!=null && oSuiv.etatVisite){return true;}return false;}function GEN_decrementeTempsL(){if (tempsLimiteCourant<=1){oTempsLimite.innerHTML=0;} else {tempsLimiteCourant-=1;oTempsLimite.innerHTML=tempsLimiteCourant;setTimeout(GEN_decrementeTempsL,1000);}}function positionObj(idObj){var obj=PF_donneObjet(idObj);var res='';if (obj!=null){if (obj.currentStyle){res=obj.currentStyle["display"];} else {res=document.defaultView.getComputedStyle(obj, "").getPropertyValue("display");}}if (res=='none'){res='';}return res;}var ZoneLienAppelante=null;function enrPosClic(evt,idCmt){if (parent.oSco.config_navigateur=="IE"){evt=window.event;ZoneLienAppelante=evt.srcElement;}else {ZoneLienAppelante=evt.target;}if (ZoneLienAppelante && ZoneLienAppelante.nodeName!="DIV"){ZoneLienAppelante=null;}var defil=0;if (parent.defilContenu){if (parent.oSco.config_navigateur=="IE"){defil=document.body.scrollTop;if (defil==0){var oHTML=document.getElementsByTagName("html"); defil=oHTML.item(0).scrollTop; } } else { defil=window.pageYOffset; }}posClicX=evt.clientX;posClicY=evt.clientY+defil;SPE_clicDansBulle(evt,idCmt);}function GEN_bloqueRetour(evt){if (evt==null){evt=window.event;}if (evt.keyCode==8 || (evt.keyCode==37&&evt.altKey)){evt.returnValue=false;evt.cancelBubble=true;try {evt.stopPropagation();evt.preventDefault();}catch(e){}toucheRetourBloquee();}if (evt.keyCode==34 || evt.keyCode==33){evt.returnValue=false;evt.cancelBubble=true;try {evt.stopPropagation();evt.preventDefault();}catch(e){}if (touchePgCourante<0 || touchePgCourante!=evt.keyCode){touchePgCourante=evt.keyCode;setTimeout(GEN_touchePg,600);} else {touchePgCourante=-1;GEN_touchePgDblClic(evt.keyCode);}}if (evt.keyCode==40&&evt.ctrlKey){if (fenPere && fenPere.parent.liste && fenPere.parent.menu.codeStage==parent.oSco.codeStage){evt.returnValue=false;evt.cancelBubble=true;try {evt.stopPropagation();evt.preventDefault();}catch(e){}fenPere.parent.menu.affichePage="element";fenPere.parent.menu.affichePageCode=codePage;fenPere.parent.liste.afficheSurRecharge();fenPere.focus();}}}function GEN_touchePg(){if (touchePgCourante>0){var codeTmp=touchePgCourante;touchePgCourante=-1;if (codeTmp==33){actionTouchePgPrecedente();}if (codeTmp==34){actionTouchePgSuivante();}}}function GEN_touchePgDblClic(code){if (code==33 || code==34){if (typePage=="exercice"){doubleClicPgExercice(code);} else {doubleClicPgCours(code);}}}function GEN_presseTouche(evt){if (evt==null){evt=window.event;}if (MODE_EDIT){return true;}if (evt.keyCode==8){GEN_bloqueRetour(evt);} else {if ((evt.keyCode==32)||(evt.keyCode==13)||(evt.keyCode==22)){GEN_clavier();}}}function navRequest(actionPerso){parent.navRequest(actionPerso);}function donneDateMAJ(){var ldate=parent.oSco.dateMAJ;var oPg=parent.oSco.donnePage(parent.oSco.numPageCourante);if (oPg!=null && oPg.dateMAJ!=""){ldate=oPg.dateMAJ;}if (ldate==""){return "";}return parent.oSco.donneDate(ldate);}function finTempsAffichage(){var fent=window.open(parent.RACINE_stage+"MosMtr/gen/tempsMax.htm","ftempmax","location=no,status=no,width=360,height=190,top=160,left=310");fent.focus();}function EDIT_pageGNR(){if (!parent.surMosLMS){alert("You must view the page in MOS Chorus to edit it.");return;}parent.parent.LMS_editPgGnr("&codeArbo=element/"+codePage);}function majTempsRestantMin(){var temps1 = new Date().getTime(); var temps0 = parent.temps0+parent.tempsActiviteLimite; var tempsDeSuite=parent.tempsActiviteLimite;var minRest = 0;if (temps0>temps1){minRest=Math.floor((temps0 - temps1)/60000);}var tempsRestant=PF_donneObjet("STY_tempsRestant");tempsRestant.innerHTML=minRest;}function retrouveValCSS(obj,attr){var val="";if (obj==null){return "";}if (parent.oSco.config_navigateur=="IE"){val=obj.currentStyle[nomAttrIE(attr)];}else{val=document.defaultView.getComputedStyle(obj, "").getPropertyValue(attr);}return val;}function nomAttrIE(sP) {var tabP=sP.split("-");var res="";for (var i=0;i<tabP.length;i++){var ajj=tabP[i];if (i>0){ajj=ajj.substring(0,1).toUpperCase()+ajj.substring(1);}res+=ajj;}return res;}function GEN_marquerPage(oCase){var nbCmt=parent.SCO_compteCMI("cmi.comments_from_learner");if (oCase.checked){parent.APIsetValue("cmi.comments_from_learner."+nbCmt+".location",codePage);parent.APIsetValue("cmi.comments_from_learner."+nbCmt+".comment","bookmarkedPage");} else {for (var i=0;i<nbCmt;i++){var lattr="cmi.comments_from_learner."+i+".";if (parent.APIgetValue(lattr+"location")==codePage){var ctn=parent.APIgetValue(lattr+"comment");if (ctn.indexOf("bookmarkedPage")>=0){parent.APIsetValue(lattr+"comment",ctn.replace("bookmarkedPage",""))}}}}}function pageEstMarquee(nbCmt,codePage){for (var i=0;i<nbCmt;i++){var lattr="cmi.comments_from_learner."+i+".";if (parent.APIgetValue(lattr+"location")==codePage){if (parent.APIgetValue(lattr+"comment").indexOf("bookmarkedPage")>=0){return true;}}}return false;}function GEN_delaiZoneCtn(){var nomZn="STY_zoneCours";if (typePage=="exercice"){nomZn="STY_zoneExercice";}var oDiv=PF_donneObjet(nomZn);oDiv.style.visibility="";if (typeof(oDiv.style.webkitTransition)=="string"||typeof(oDiv.style.MozTransition)=="string"){if (TRANSITION_DELAI_ZONE_CTN_S!="0"){oDiv.style.opacity="0";setTimeout(enclencheFonduDelaiZoneCtn,50);}}}var TRANSITION_DELAI_ZONE_CTN_S="0.25";function enclencheFonduDelaiZoneCtn(){var nomZn="STY_zoneCours";if (typePage=="exercice"){nomZn="STY_zoneExercice";}var oDiv=PF_donneObjet(nomZn);var vtrans="opacity "+TRANSITION_DELAI_ZONE_CTN_S+"s";oDiv.style.webkitTransition=vtrans;oDiv.style.MozTransition=vtrans;oDiv.style.opacity="1";}function declencheAnimationBascule1(oBasc){if (window.tabIdAnimBascule==null){tabIdAnimBascule=new Array();}tabIdAnimBascule.push(oBasc);var numPointeur=tabIdAnimBascule.length-1;oBasc.style.webkitTransitionProperty="none";oBasc.style.MozTransitionProperty="none";oBasc.style.visible="hidden";oBasc.style.display="block";var hautFin=valCSS(oBasc,"","height",document.defaultView);var padH=valCSS(oBasc,"","padding-top",document.defaultView);var padB=valCSS(oBasc,"","padding-bottom",document.defaultView);if (transitionCssBascule.indexOf("height")>=0){oBasc.style.height="0px";oBasc.style.overflow="hidden";}if (transitionCssBascule.indexOf("padding")>=0){oBasc.style.paddingTop="0px";oBasc.style.paddingBottom="0px";}if (transitionCssBascule.indexOf("opacity")>=0){oBasc.style.opacity="0";}setTimeout("declencheAnimationBascule2("+numPointeur+",'"+hautFin+"','"+padH+"','"+padB+"')",50);}function declencheAnimationBascule2(numPointeur,hautFin,padH,padB){var oBasc=tabIdAnimBascule[numPointeur];oBasc.style.webkitTransitionProperty=transitionCssBascule;oBasc.style.MozTransitionProperty=transitionCssBascule;oBasc.style.visible="";if (transitionCssBascule.indexOf("height")>=0){oBasc.style.height=hautFin;}if (transitionCssBascule.indexOf("padding")>=0){oBasc.style.paddingTop=padH;oBasc.style.paddingBottom=padB;}if (transitionCssBascule.indexOf("opacity")>=0){oBasc.style.opacity="1";}setTimeout("declencheAnimationBascule3("+numPointeur+")",GEN_dureeTransitionCssObjet(oBasc));}function GEN_dureeTransitionCssObjet(obj){var ts=valCSS(obj,"",parent.oSco.extensionNavig()+"transition-duration",document.defaultView);if (ts==null || ts==""){return 0;}ts=ts.split(" ")[0];ts=ts.replace("s","");ts=ts.replace(",","");return Number(ts)*1000;}function declencheAnimationBascule3(numPointeur){var oBasc=tabIdAnimBascule[numPointeur];oBasc.style.webkitTransitionProperty="none";oBasc.style.MozTransitionProperty="none";oBasc.style.height=null;oBasc.style.opacity=null;}function refermeAnimationBascule1(lid){var numPointeur=0;for (var i=0;i<tabIdAnimBascule.length;i++){if (lid==tabIdAnimBascule[i].id){numPointeur=i;break;}}var oBasc=tabIdAnimBascule[numPointeur];if (transitionCssBascule.indexOf("height")>=0){oBasc.style.height=valCSS(oBasc,"","height",document.defaultView);}setTimeout("refermeAnimationBascule2("+numPointeur+")",50);}function refermeAnimationBascule2(numPointeur){ var oBasc=tabIdAnimBascule[numPointeur];oBasc.style.webkitTransitionProperty=transitionCssBascule;oBasc.style.MozTransitionProperty=transitionCssBascule;if (transitionCssBascule.indexOf("height")>=0){oBasc.style.overflow="hidden";oBasc.style.height="0";}if (transitionCssBascule.indexOf("padding")>=0){oBasc.style.paddingTop="0";oBasc.style.paddingBottom="0";}if (transitionCssBascule.indexOf("opacity")>=0){oBasc.style.opacity="0";}setTimeout("refermeAnimationBascule3("+numPointeur+")",GEN_dureeTransitionCssObjet(oBasc));}function refermeAnimationBascule3(numPointeur){var oBasc=tabIdAnimBascule[numPointeur];oBasc.style.webkitTransitionProperty="none";oBasc.style.MozTransitionProperty="none";oBasc.style.display="none";oBasc.style.height=null;oBasc.style.paddingTop=null;oBasc.style.paddingBottom=null;oBasc.style.opacity=null;}function GEN_afficherGlossaireSurPage(chemFich,posDiv){var tabPos=posDiv.split(";");var posie6="fixed";if (!window.XMLHttpRequest){posie6="absolute";}var oDiv=PF_donneObjet("divCadreDetailSurPage");if (oDiv==null){oDiv=document.createElement("div");document.body.appendChild(oDiv);oDiv.id="divCadreDetailSurPage";oDiv.style.position=posie6;oDiv.className="STY_cadreGlossaireInterne";}var rese=valeurHauteurCSS(".STY_cadreGlossaireInterne");if (rese=="auto"){oDiv.style.height="90px";}oDiv.style.display="block";oDiv.innerHTML='<iframe scrolling="no" allowTransparency="true" frameborder="0" width="100%" height="100%" src="'+chemFich+'"></iframe>';}function GEN_ajusteHauteurCadreGlo(hauteur){var rese=valeurHauteurCSS(".STY_cadreGlossaireInterne");if (rese=="auto"){hauteur+=5;var maxPage=0;if (window.innerHeight){maxPage=window.innerHeight;}else {maxPage=document.documentElement.clientHeight;}var oDiv=PF_donneObjet("divCadreDetailSurPage");if (hauteur>maxPage){hauteur=maxPage-oDiv.offsetTop-10;}oDiv.style.height=hauteur+"px";if (!window.XMLHttpRequest){oDiv.firstChild.style.height=hauteur+"px";}if (navigator.appName=="Opera"){var defEntreeDetail=oDiv.firstChild.contentWindow.document.getElementById("STY_defEntreeDetail");if (defEntreeDetail){defEntreeDetail.style.height="auto";}}}}function valeurHauteurCSS(nomClasse){var res=null;for (var m=0;m<document.styleSheets.length;m++){var ofCSS=document.styleSheets.item(m);var tabRule=ofCSS.rules;if (parent.oSco.config_navigateur=="Netscape"){tabRule=ofCSS.cssRules;} for (var j=0;j<tabRule.length;j++){if (tabRule[j].selectorText==nomClasse){return tabRule[j].style.height;}}}return "";}function metBoutonPredfEnSVG(idm){var oImg=document.images[idm];if (oImg){oImg.src=oImg.src.replace(/\.png$/,".svg");}}function GEN_barreProgressionPages(obj){var objj=PF_donneObjet("STY_barreProgres");if (objj==null){return;}var numPasses=0;var numTot=0;for (var n=0;n<parent.oSco.tabPages.length;n++){if (parent.oSco.tabPages[n].validePrerequis()){numTot++;if (n<=parent.oSco.numPageCourante){numPasses++;}}}if (numTot==0){numTot=1;numPasses=1;}var txtBp=numPasses+"/"+numTot;if (window.progressBarShowPercentage){txtBp=Math.round(numPasses/numTot*100)+"%";}objj.innerHTML='<div class="STY_barreProgresJauge" style="width:'+Math.round(numPasses/numTot*100)+'%">'+txtBp+'</div>';}
