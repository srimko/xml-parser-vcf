function Curseur(id,valMin,valMax,vertical,valInit,nbDecimales,unite,titre,poids) {this.id=id; this.valMin=Number(valMin); this.valMax=Number(valMax); this.valInit=Number(valInit); if (valInit<valMin){this.valInit=valMin;} if (valInit>valMax){this.valInit=valMax;} this.vertical=vertical; this.nbDecimales=nbDecimales; this.unite=unite; this.poids=1; if (poids!=""){ poids=poids.replace(/\s/g,''); if (poids!=""){this.poids=Number(poids);} } this.tabDomaines;this.correction;this.longueurEchelle;this.valeurActuelle; this.titre=titre;this.tailleEchelle=0;this.tailleCurseur;this.oCompteur;this.etatDeplace=false;this.juger=CURS_juger;this.init=CURS_init;this.valeurRelle=CURS_valeurRelle;this.pourcentage=CURS_pourcentage;this.valInitiale=CURS_valInitiale;this.deplaceCurseur=CUSR_deplaceCurseur;this.possedeDomaine=CURS_possedeDomaine;}function CURS_possedeDomaine(correction){var res=false;for (var i=0;i<this.tabDomaines.length;i++){if (this.tabDomaines[i].correction==correction){res=true;}}return res;}function CURS_juger(actionU){if (exo.existeClasseCorrection){var oBorne=PF_donneObjet("borneCursSol"+this.id);if (oBorne!=null){oBorne.parentNode.removeChild(oBorne);}}var resJuge="";var surUnDomaine=false;for (var nd=0;nd<this.tabDomaines.length;nd++){var domTmp=this.tabDomaines[nd];if (domTmp.estInclus(this.valeurActuelle)){resJuge=domTmp.correction;if (resJuge==CODE_V){surUnDomaine=true;}}}if (this.tabDomaines.length==0){resJuge=CODE_V;}this.correction=resJuge;if (actionU){if ((!etatEval)&&(exo.retourIncorrect)&&(!surUnDomaine)){this.valInitiale();}if ((exo.tabCurseurs.length==1)&&(!exo.retourIncorrect||(this.correction==CODE_V))){EXO_validerAuto();}}}function CURS_init(){this.tabDomaines=new Array();this.longueurEchelle=this.valMax-this.valMin;}function CURS_valInitiale(){this.deplaceCurseur(this.valInit);this.valeurActuelle=this.valInit;oCompteurC=PF_donneObjet('divCompteur'+this.id);uniteC=this.unite;changeCompteur(this.valInit);}function CUSR_deplaceCurseur(valCurs){if (this.tailleEchelle==0){var echelleCourante=PF_donneObjet('imgEchelle'+this.id);var imgCurseur=PF_donneObjet('imgCurseur'+this.id);var tailleEchelle,tailleCurseur;if (this.vertical){this.tailleCurseur=imgCurseur.height/2;this.tailleEchelle=echelleCourante.height-this.tailleCurseur;} else {this.tailleCurseur=imgCurseur.width/2;this.tailleEchelle=echelleCourante.width-this.tailleCurseur;}}if (valCurs>=this.valMin && valCurs<=this.valMax){var initPourcent;var divCurseur=PF_donneObjet('divCurseur'+this.id);if (this.vertical){initPourcent=this.pourcentage(valCurs);var tailleEchelle0=Math.round(this.tailleEchelle*initPourcent);var rest=this.tailleEchelle-tailleEchelle0-this.tailleCurseur/2;if (rest<0){rest=0;}divCurseur.style.top=rest+'px';} else {initPourcent=this.pourcentage(valCurs);var tailleEchelle0=Math.round(this.tailleEchelle*initPourcent);var rest=tailleEchelle0-this.tailleCurseur/2;if (rest<0){rest=0;}divCurseur.style.left=rest+'px';}}}function CURS_valeurRelle(pourcentage){var val0=this.valMin+(this.longueurEchelle*pourcentage);var iR=0;var nbTmp=1;while (iR<this.nbDecimales){nbTmp=nbTmp+'0';iR++;}nbTmp=Number(nbTmp);val0=Math.round((val0*nbTmp))/nbTmp;return (val0);}function CURS_pourcentage(valeurRelle){var val0=0;var valR=valeurRelle-this.valMin;var valFin=this.valMax-this.valMin;val0=valR/valFin;return val0;}
