<?xml version="1.0" ?><xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"><xsl:template match="dossier"><xsl:variable name="nomSub">sub<xsl:value-of select="@id"/></xsl:variable>var <xsl:value-of select="$nomSub"/>;<xsl:value-of select="$nomSub"/> = new GlossaireSub();<xsl:value-of select="$nomSub"/>.init();<xsl:value-of select="$nomSub"/>.nom = "<xsl:value-of select="nom"/>";<xsl:value-of select="$nomSub"/>.code = "sub"+"<xsl:number level="any"/>";<xsl:apply-templates select="dossier"><xsl:sort select="nom"/></xsl:apply-templates><xsl:apply-templates select="entree" mode="js"><xsl:with-param name="nomSubTmp" select="$nomSub"/><xsl:sort select="mot"/></xsl:apply-templates><xsl:choose> <xsl:when test="ancestor::dossier"> sub<xsl:value-of select="ancestor::dossier/@id"/>.ajouterSub(<xsl:value-of select="$nomSub"/>); </xsl:when> <xsl:otherwise>glossaire.ajouterSub(<xsl:value-of select="$nomSub"/>); </xsl:otherwise> </xsl:choose></xsl:template><xsl:template match="entree" mode="js"><xsl:param name="nomSubTmp"/>idMotGloss ="<xsl:value-of select="@id"/>";motGloss ="<xsl:apply-templates select="mot"/>";refGloss=new Array();var numRef=0;<xsl:for-each select="voirAussi">refGloss[numRef]="<xsl:value-of select="@ref"/>";numRef++;</xsl:for-each><xsl:value-of select="$nomSubTmp"/>.ajouterEntreeGlossaire(idMotGloss,motGloss,'',refGloss,"<xsl:apply-templates select="@posDocs"/>");</xsl:template><xsl:template match="entree"><div id="divDef{@id}"><xsl:apply-templates select="def"/></div></xsl:template><xsl:template name="STOCK_DEFS"><div style="display:none;visibility:hidden"><xsl:apply-templates select="//entree"/></div></xsl:template><xsl:template match="lienExtra"><a href="javascript:GLO_ouvrirDoc('{@ref}','{@type}')"><xsl:apply-templates/></a></xsl:template><xsl:template name="JSCRIPT_CSS_GLO"><xsl:call-template name="ENTETE_HTML"/><title>&#160;</title><link rel="stylesheet" href="../../MosMtr/ressources/style/css/styles.css"/><link rel="stylesheet" href="../../MosMtr/ressources/style/css/glossaireDetail.css"/><link rel="stylesheet" href="../../MosMtr/ressources/style/css/glossaireListe.css"/><script type="text/javascript" src="../../MosMtr/scripts/glossaire/ICglossaire.js"></script><script type="text/javascript" src="../../MosMtr/scripts/glossaire/ClasseGlossaire.js"></script><script type="text/javascript" src="../../MosMtr/scripts/actionsGen.js"></script><script type="text/javascript" src="../../MosMtr/ressources/langue/lexiqueGLO.js"></script><script type="text/javascript">var chemin_img;var glossaire;var lexique;lexique=new ICLexique();lexique.init();LEX_entrerLexs();var modeListe=true;var idMotCherche;var leTitre=new String(top.document.title);if (top.menu==null){if (window.opener!=null &amp;&amp; window.opener.positionGloDetail==''){var sFEN_L='<xsl:call-template name="FEN_L"/>';var sFEN_H='<xsl:call-template name="FEN_H"/>';var sFEN_X='<xsl:call-template name="FEN_X"/>';var sFEN_Y='<xsl:call-template name="FEN_Y"/>';var FEN_L,FEN_H,FEN_X,FEN_Y;if (sFEN_L!=''){FEN_L=parseInt(sFEN_L);}if (sFEN_H!=''){ FEN_H=parseInt(sFEN_H);}if (sFEN_X!=''){ FEN_X=parseInt(sFEN_X);}if (sFEN_Y!=''){ FEN_Y=parseInt(sFEN_Y);}if ((!isNaN(FEN_X))&amp;&amp;(!isNaN(FEN_Y))){top.window.moveTo(FEN_X,FEN_Y);}if ((!isNaN(FEN_L))&amp;&amp;(!isNaN(FEN_H))&amp;&amp;(FEN_L&gt;0)&amp;&amp;(FEN_H&gt;0)){top.window.resizeTo(FEN_L,FEN_H);if (navigator.userAgent.indexOf("iPhone")>0){document.write('&lt;meta name="viewport" content="width=device-width">');}}var oHTML=document.getElementsByTagName("html").item(0);FEN_L=parseInt(oHTML.offsetWidth);FEN_H=parseInt(oHTML.offsetHeight);if (isNaN(FEN_H)||(FEN_H==0)){FEN_L=window.innerWidth;FEN_H=window.innerHeight;}window.opener.positionGloDetail=FEN_X+","+FEN_Y+","+FEN_L+","+FEN_H;}if (window.opener!=null &amp;&amp; window.opener.donneIdMotCherche){idMotCherche=window.opener.donneIdMotCherche();} else {idMotCherche=parent.parent.donneIdMotCherche();}modeListe=false;}function entrerDonnees(){chemin_img = "../../MosMtr/ressources/style/media/";idMotGloss="";var motGloss="";var defGloss="";var refGloss;var motTrouve=false;PF_ecritDocW();glossaire = new Glossaire();glossaire.init();<xsl:apply-templates select="glossaire/dossier"/>if (modeListe){GLO_initListe();} else {GLO_initDetail(idMotCherche);}}</script></xsl:template><xsl:template match="img"><img><xsl:copy-of select="@*"/><xsl:if test="@name"><xsl:attribute name="id"><xsl:value-of select="@name"/></xsl:attribute></xsl:if><xsl:attribute name="src">../media/<xsl:value-of select="@src"/></xsl:attribute></img></xsl:template></xsl:stylesheet>
