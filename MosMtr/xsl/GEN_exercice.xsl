<?xml version="1.0" ?><xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"><xsl:import href="GEN_contenu.xsl"/><xsl:template name="JSCRIPT_CSS_EXO"><xsl:call-template name="JSCRIPT_CSS_CONTENU"/><script type="text/javascript" src="../../MosMtr/scripts/contenu/ICexercices.js"></script><xsl:call-template name="fichierPerso"/><link rel="stylesheet" href="../../MosMtr/ressources/style/css/exercice.css"/><xsl:if test="/exo/@numDupli"><link rel="stylesheet" href="../../MosMtr/ressources/style/css/exo{/exo/@type}{/exo/@numDupli}.css"/></xsl:if></xsl:template><xsl:template name="AFFECTE_INTERACTIONS"><xsl:for-each select="exo/interactions/suggestion">var idDet='divSugg<xsl:number/>';<xsl:if test="@num and (@num!='')">idDet='divCmt<xsl:value-of select="@num"/>';</xsl:if>EXO_ajouterCommentaire(idDet,"<xsl:value-of select="@titre"/>","<xsl:if test="@droite">.</xsl:if><xsl:value-of select="@pX"/>","<xsl:if test="@bas">.</xsl:if><xsl:value-of select="@pY"/>","<xsl:value-of select="@pL"/>","<xsl:value-of select="@pH"/>","<xsl:value-of select="@duree"/>","<xsl:value-of select="@ref"/>","<xsl:value-of select="@styBulle"/>","<xsl:value-of select="@branche"/>","<xsl:value-of select="@orign"/>","<xsl:value-of select="@fonduE"/>","<xsl:value-of select="@fonduS"/>","<xsl:value-of select="@initX"/>","<xsl:value-of select="@initY"/>","<xsl:value-of select="@vitesse"/>","<xsl:value-of select="@defil"/>","<xsl:value-of select="@vdefil"/>");</xsl:for-each><xsl:if test="exo/consigne//node()"><xsl:apply-templates select="exo/consigne" mode="js"/></xsl:if><xsl:if test="exo/interactions/commentaire//node() or exo/interactions/commentaire/@branche!=''"><xsl:apply-templates select="exo/interactions/commentaire" mode="js"/></xsl:if>exo.initEchelleScore();dureePage="<xsl:value-of select="exo/@duree"/>";delaiZoneCtn="<xsl:value-of select="exo/@delai"/>";<xsl:if test="exo/@desactiveSuivant='oui'">desactiveSuivantPg=true;</xsl:if></xsl:template><xsl:template name="ZONE_INVISIBLE"><div id="zoneInvisible" style="display:none;visibility:hidden"><div id="divConsigne" onclick="SPE_clicDansBulle(event,'divConsigne')" ontouchend="SPE_clicDansBulle(event,'divConsigne')"><xsl:apply-templates select="exo/consigne"/></div><div id="divCmtSucces" onclick="SPE_clicDansBulle(event,'divCmtSucces')" ontouchend="SPE_clicDansBulle(event,'divCmtSucces')"><xsl:apply-templates select="exo/interactions/commentaire"/></div><xsl:for-each select="exo/interactions/suggestion"><xsl:variable name="lid">div<xsl:choose><xsl:when test="@num and (@num!='')">Cmt<xsl:value-of select="@num"/></xsl:when><xsl:otherwise>Sugg<xsl:number/></xsl:otherwise></xsl:choose></xsl:variable><div id="{$lid}" onclick="SPE_clicDansBulle(event,'{$lid}')" ontouchend="SPE_clicDansBulle(event,'{$lid}')"><xsl:apply-templates/></div></xsl:for-each></div></xsl:template> <xsl:template match="consigne" mode="js">EXO_ajouterCommentaire('divConsigne',"<xsl:value-of select="@titre"/>","<xsl:if test="@droite">.</xsl:if><xsl:value-of select="@pX"/>","<xsl:if test="@bas">.</xsl:if><xsl:value-of select="@pY"/>","<xsl:value-of select="@pL"/>","<xsl:value-of select="@pH"/>","<xsl:value-of select="@duree"/>","<xsl:value-of select="@delai"/>","<xsl:value-of select="@styBulle"/>","","","<xsl:value-of select="@fonduE"/>","<xsl:value-of select="@fonduS"/>","<xsl:value-of select="@initX"/>","<xsl:value-of select="@initY"/>","<xsl:value-of select="@vitesse"/>","<xsl:value-of select="@defil"/>","<xsl:value-of select="@vdefil"/>");</xsl:template><xsl:template match="commentaire" mode="js">EXO_ajouterCommentaire('divCmtSucces',"<xsl:value-of select="@titre"/>","<xsl:if test="@droite">.</xsl:if><xsl:value-of select="@pX"/>","<xsl:if test="@bas">.</xsl:if><xsl:value-of select="@pY"/>","<xsl:value-of select="@pL"/>","<xsl:value-of select="@pH"/>","<xsl:value-of select="@duree"/>","","<xsl:value-of select="@styBulle"/>","<xsl:value-of select="@branche"/>","<xsl:value-of select="@orign"/>","<xsl:value-of select="@fonduE"/>","<xsl:value-of select="@fonduS"/>","<xsl:value-of select="@initX"/>","<xsl:value-of select="@initY"/>","<xsl:value-of select="@vitesse"/>","<xsl:value-of select="@defil"/>","<xsl:value-of select="@vdefil"/>");</xsl:template><xsl:template name="ZONE_EXO"><xsl:if test="/exo/@partieTitre='non' or /exo/@partieDetail='non' or /*/@delai!=''"><xsl:attribute name="style">visibility:hidden;<xsl:choose><xsl:when test="/exo/@partieTitre='non' and /exo/@partieDetail='non'"><xsl:call-template name="POSZ_STC"/></xsl:when><xsl:when test="/exo//@partieTitre='non'"><xsl:call-template name="POSZ_ST"/></xsl:when><xsl:when test="/exo/@partieDetail='non'"><xsl:call-template name="POSZ_SC"/></xsl:when></xsl:choose></xsl:attribute></xsl:if></xsl:template><xsl:template match="lienDetail"><xsl:variable name="objZone" select="(ancestor::commentaire) | (ancestor::suggestion) | (ancestor::consigne)"/><xsl:variable name="numC" select="@num"/><a class="STY_lienComt" href="javascript:CRS_afficherDetail('{$numC}')" onclick="enrPosClic(event,'{$numC}')"><xsl:if test="$objZone"><xsl:attribute name="class"><xsl:choose><xsl:when test="($objZone/@pX!='') or ($objZone/@pY!='')">STY_lienBulle<xsl:value-of select="$objZone/@styBulle"/></xsl:when><xsl:otherwise>STY_lienDansZoneComt</xsl:otherwise></xsl:choose></xsl:attribute></xsl:if><xsl:if test="//suggestion[(@num=$numC) and (@ref='-1')]"><xsl:attribute name="onmouseover">enrPosClic(event,'<xsl:value-of select="$numC"/>');CRS_afficherDetail('<xsl:value-of select="$numC"/>')</xsl:attribute><xsl:attribute name="onmouseout">CRS_effacerDetail('<xsl:value-of select="$numC"/>')</xsl:attribute></xsl:if><xsl:apply-templates/></a></xsl:template><xsl:template name="NIVEAU_CERTITUDE"><input type="radio" name="niveauCertitude" id="nivcert1" onclick="EXO_cliqueNivCert(this)"/><label for="nivcert1" class="STY_labelNivCert"><script>ajDocW(donneLex(99))</script></label>&#160;&#160;<input type="radio" name="niveauCertitude" id="nivcert2" onclick="EXO_cliqueNivCert(this)"/><label for="nivcert2" class="STY_labelNivCert"><script>ajDocW(donneLex(100))</script></label>&#160;&#160;<input type="radio" name="niveauCertitude" id="nivcert3" onclick="EXO_cliqueNivCert(this)"/><label for="nivcert3" class="STY_labelNivCert"><script>ajDocW(donneLex(101))</script></label></xsl:template></xsl:stylesheet>
