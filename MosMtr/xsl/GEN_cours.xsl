<?xml version="1.0" ?><xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"><xsl:import href="GEN_contenu.xsl"/><xsl:template name="JSCRIPT_CSS_COURS"><xsl:call-template name="JSCRIPT_CSS_CONTENU"/><xsl:if test="cours/@type and (cours/@type!='COURS')"><link rel="stylesheet" type="text/css" href="../../MosMtr/ressources/style/css/{cours/@type}.css"/></xsl:if><script type="text/javascript" src="../../MosMtr/scripts/contenu/ICcours.js"></script><xsl:call-template name="fichierPerso"/><script type="text/javascript">function entrerDonnees(){leCours = new Cours();leCours.init('<xsl:value-of select="cours/@partieDetail"/>');<xsl:apply-templates select="cours/commentaires/commentaire"/><xsl:if test="cours/@desactiveSuivant='oui'">desactiveSuivantPg=true;</xsl:if><xsl:if test="cours/@animListes='oui'">leCours.animListes=true;</xsl:if><xsl:if test="cours/@animImages='oui'">leCours.animImages=true;</xsl:if>dureePage="<xsl:value-of select="cours/@duree"/>";delaiZoneCtn="<xsl:value-of select="cours/@delai"/>";leCours.delaiAnim="<xsl:value-of select="cours/@delaiAnim"/>";}</script></xsl:template> <xsl:template name="ZONE_INVISIBLE"><div id="zoneInvisible" style="display:none;visibility:hidden"><xsl:for-each select="cours/commentaires/commentaire"><div id="divCmt{@num}" onclick="SPE_clicDansBulle(event,'{@num}')" ontouchend="SPE_clicDansBulle(event,'{@num}')"><xsl:apply-templates/></div></xsl:for-each></div></xsl:template> <xsl:template name="ZONE_COURS"><xsl:if test="/*/@partieTitre='non' or /*/@partieDetail='non' or /*/@delai!=''"><xsl:attribute name="style"><xsl:choose><xsl:when test="/*/@partieTitre='non' and /*/@partieDetail='non'"><xsl:call-template name="POSZ_STC"/></xsl:when><xsl:when test="/*/@partieTitre='non'"><xsl:call-template name="POSZ_ST"/></xsl:when><xsl:when test="/*/@partieDetail='non'"><xsl:call-template name="POSZ_SC"/></xsl:when></xsl:choose><xsl:if test="/*/@delai">;visibility:hidden</xsl:if></xsl:attribute></xsl:if></xsl:template> <xsl:template match="commentaire">leCours.ajouterCommentaire("divCmt<xsl:value-of select="@num"/>","<xsl:value-of select="@titre"/>","<xsl:if test="@droite">.</xsl:if><xsl:value-of select="@pX"/>","<xsl:if test="@bas">.</xsl:if><xsl:value-of select="@pY"/>","<xsl:value-of select="@pL"/>","<xsl:value-of select="@pH"/>","<xsl:value-of select="@duree"/>","<xsl:value-of select="@delai"/>","<xsl:value-of select="@styBulle"/>","<xsl:value-of select="@orign"/>","<xsl:value-of select="@fonduE"/>","<xsl:value-of select="@fonduS"/>","<xsl:value-of select="@initX"/>","<xsl:value-of select="@initY"/>","<xsl:value-of select="@vitesse"/>","<xsl:value-of select="@defil"/>","<xsl:value-of select="@vdefil"/>");</xsl:template> <xsl:template match="lienDetail"><xsl:variable name="objZone" select="ancestor::commentaire"/><xsl:variable name="numC" select="@num"/><a class="STY_lienComt" href="javascript:CRS_afficherDetail('{$numC}')" onclick="enrPosClic(event,'{$numC}')"><xsl:if test="$objZone"><xsl:attribute name="class"><xsl:choose><xsl:when test="($objZone/@pX!='') or ($objZone/@pY!='')">STY_lienBulle<xsl:value-of select="$objZone/@styBulle"/></xsl:when><xsl:otherwise>STY_lienDansZoneComt</xsl:otherwise></xsl:choose></xsl:attribute></xsl:if><xsl:if test="//commentaire[(@num=$numC) and (@delai='-1')]"><xsl:attribute name="onmouseover">enrPosClic(event,'<xsl:value-of select="$numC"/>');CRS_afficherDetail('<xsl:value-of select="$numC"/>')</xsl:attribute><xsl:attribute name="onmouseout">CRS_effacerDetail('<xsl:value-of select="$numC"/>')</xsl:attribute></xsl:if><xsl:apply-templates/></a></xsl:template><xsl:template match="texte//img" priority="2"><xsl:choose><xsl:when test="/cours/@diaporama!=''"><xsl:variable name="num"><xsl:number level="any"/></xsl:variable><xsl:if test="$num=1"><script type="text/javascript">ajDocW(PF_clipAV('diaporama','<xsl:value-of select="/cours/@diaporama"/>','<xsl:value-of select="number(@width)"/>','<xsl:value-of select="number(@height)"/>','true','Flash','','<xsl:value-of select="@align"/>','','<xsl:if test="@border">border-width:<xsl:value-of select="@border"/>px;border-style:solid;</xsl:if><xsl:value-of select="@style"/>',''));</script></xsl:if></xsl:when><xsl:when test="/cours/@animImages='oui'"><xsl:variable name="num"><xsl:number level="any"/></xsl:variable><img><xsl:copy-of select="@*"/><xsl:attribute name="src">../media/<xsl:value-of select="@src"/></xsl:attribute><xsl:if test="$num!=1"><xsl:attribute name="style"><xsl:value-of select="@style"/>;display:none</xsl:attribute></xsl:if></img></xsl:when><xsl:otherwise><img><xsl:copy-of select="@*"/><xsl:attribute name="src">../media/<xsl:value-of select="@src"/></xsl:attribute><xsl:if test="@border and not(@style) and not(@class) and (parent::lienPage or parent::lienGlossaire or parent::lienExtra or parent::lienDetail)"><xsl:attribute name="class">STY_lienComt</xsl:attribute></xsl:if></img></xsl:otherwise></xsl:choose></xsl:template></xsl:stylesheet>
