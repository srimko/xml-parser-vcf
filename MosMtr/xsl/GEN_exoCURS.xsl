<?xml version="1.0" ?><xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"><xsl:variable name="formatBtn"><xsl:call-template name="FORMAT_BOUTON"/></xsl:variable><xsl:template match="curseur"><div onmousemove="CURS_deplaceDiv(event,false)"><xsl:attribute name="style"><xsl:value-of select="@style"/>;float:left</xsl:attribute><div id="divEchelle{@id}" style="position:relative"> <img id="imgEchelle{@id}" onclick="CURS_clicEchelle(event,{@id})" src="../../MosMtr/ressources/style/media/gen/{@class}_{@vertical}e.{$formatBtn}"><xsl:if test="@imgW!=''"><xsl:attribute name="width"><xsl:value-of select="@imgW"/></xsl:attribute></xsl:if><xsl:if test="@imgH!=''"><xsl:attribute name="height"><xsl:value-of select="@imgH"/></xsl:attribute></xsl:if> </img> <div style="position:absolute; z-index:15; left: 0px; top: 0px;_width:10px;_height:10px;min-width:10px;min-height:10px;cursor:pointer" id="divCurseur{@id}"><img onmousedown="CURS_debutDep(event,{@id})" id="imgCurseur{@id}" src="../../MosMtr/ressources/style/media/gen/{@class}_{@vertical}c.{$formatBtn}"/></div></div><xsl:if test="@labelMin!=''"><div id="exoCURS{@id}labelMin"> <xsl:attribute name="class">STY_legendeCURS_<xsl:choose><xsl:when test="@vertical='1'">b</xsl:when><xsl:otherwise>g</xsl:otherwise></xsl:choose></xsl:attribute> <xsl:value-of select="@labelMin"/></div></xsl:if><xsl:if test="@labelMax!=''"><div id="exoCURS{@id}labelMax"> <xsl:attribute name="class">STY_legendeCURS_<xsl:choose><xsl:when test="@vertical='1'">h</xsl:when><xsl:otherwise>d</xsl:otherwise></xsl:choose></xsl:attribute> <xsl:value-of select="@labelMax"/></div></xsl:if><xsl:if test="@afficheCompteur='1'"><div id="divCompteur{@id}" class="STY_compteurCURS_{@vertical}"></div></xsl:if></div></xsl:template><xsl:template name="JSCRIPT_CSS_CURS"><xsl:variable name="scoreT" select="exo/@score"/><xsl:call-template name="JSCRIPT_CSS_EXO"/><script type="text/javascript" src="../../MosMtr/scripts/contenu/ClasseExerciceCURS.js"></script><script type="text/javascript" src="../../MosMtr/scripts/contenu/ClasseCurseur.js"></script><script type="text/javascript" src="../../MosMtr/scripts/contenu/IC_exerciceCURS.js"></script><script type="text/javascript">function entrerDonnees(){exo = new ExerciceCURS();exo.init();exo.scoreTotal=<xsl:value-of select="$scoreT"/>;exo.retourIncorrect=<xsl:value-of select="exo/@retourIncorrect='1'"/>;<xsl:for-each select="exo/texteCurseur//curseur">var cursTmp=new Curseur(<xsl:value-of select="@id"/>,<xsl:value-of select="@valMin"/>,<xsl:value-of select="@valMax"/>,<xsl:value-of select="@vertical='1'"/>,<xsl:value-of select="@valInit"/>,<xsl:value-of select="@nbDecimales"/>,"<xsl:value-of select="@unite"/>","<xsl:value-of select="@titre"/>","<xsl:value-of select="@poids"/>");cursTmp.init();exo.tabCurseurs[exo.tabCurseurs.length]=cursTmp;</xsl:for-each><xsl:for-each select="exo/reponses/reponse"> <xsl:variable name="valJuste"><xsl:choose><xsl:when test="@styleR='nw'">2</xsl:when><xsl:otherwise>0</xsl:otherwise></xsl:choose></xsl:variable>exo.ajouterReponse(<xsl:value-of select="@ref"/>,'<xsl:value-of select="translate(number(@min)+number($scoreT),'0123789','3879102')"/>','<xsl:value-of select="translate(number(@max)-number($scoreT),'0123789','3879102')"/>','<xsl:value-of select="$valJuste+number(@ref)*3"/>');</xsl:for-each><xsl:call-template name="AFFECTE_INTERACTIONS"/>}</script></xsl:template> </xsl:stylesheet>
