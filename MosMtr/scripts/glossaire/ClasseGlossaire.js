/*Integral Coaching Tous droits reserves - 2003 */ function Glossaire() { this.subs; this.motTrouves; this.codeMotTrouves; this.nomLiens; this.init=CAT_init;this.ajouterSub=CAT_ajouterSub;this.afficher=CAT_afficher;this.ouvrirTout=CAT_ouvrirTout;this.fermerTout=CAT_fermerTout;this.rechercher=CAT_rechercher;this.donnerEntreeCode=CAT_donnerEntreeCode;this.donneEntree=CAT_donneEntree;}function CAT_init(){this.subs=new Array();}function CAT_ajouterSub(sub){sub.subParent=null;this.subs.push(sub);}function CAT_afficher(){var resFin='';for (j=0;j<this.subs.length;j++){resFin=resFin+this.subs[j].afficher(this.subs[j].nomRep);}return resFin;}function CAT_ouvrirTout(){var j=0;for (j=0;j<this.subs.length;j++){subTmp=this.subs[j];subTmp.ouvrirSub();}}function CAT_fermerTout(){var j=0;for (j=0;j<this.subs.length;j++){subTmp=this.subs[j];subTmp.fermerSub();}}function CAT_rechercher(mot,optionMotEntier,optionCasse){this.motTrouves=new Array(); this.codeMotTrouves=new Array(); this.nomLiens= new Array();var j=0;var trouve=0; var regleDebut="";var regleFin="";if (optionMotEntier){regleDebut="\\b";regleFin="\\b";}var optCasse='i';if (optionCasse){optCasse='';}var regle = new RegExp(regleDebut+mot+regleFin,optCasse);for (j=0;j<this.subs.length;j++){subTmp=this.subs[j];trouve=trouve+subTmp.rechercher(regle,optionCasse);}return trouve;}function CAT_donnerEntreeCode(idMotCherche,entree){var resultat=false;var j=0;for (j=0;j<this.subs.length;j++){if (resultat){j=this.subs.length;} else {subTmp=this.subs[j];this.cheminMotTemp=subTmp.nom;resultat=subTmp.rechercherEntreeCode(idMotCherche);}}return resultat;}function CAT_donneEntree(idEntree){var entree=null;var j;for (j=0;j<this.subs.length;j++){subTmp=this.subs[j];var res=subTmp.donneEntree(idEntree);if (res!=null){entree=res;j=this.subs.length;}}return entree;}function GlossaireSub() {this.subs; this.entrees; this.nom=''; this.code=''; this.nomRep=''; this.subParent=null; this.init=CATs_init;this.ajouterEntreeGlossaire=CATs_ajouterEntreeGlossaire;this.ajouterSub=CATs_ajouterSub;this.afficherentrees=CATs_afficherentrees;this.afficherEntree=CATs_afficherEntree;this.afficher=CATs_afficher;this.afficherSubs=CATs_afficherSubs;this.ouvrirSub=CATs_ouvrirSub;this.fermerSub=CATs_fermerSub;this.donneEntree=CATs_donneEntree;}function CATs_init(){this.subs=new Array(); this.entrees=new Array();}function CATs_ajouterEntreeGlossaire(codeEntreeGlossaire,nomEntreeGlossaire,def,refGloss,posDocs){EntreeGlossaireTmp= new EntreeGlossaire();EntreeGlossaireTmp.init();EntreeGlossaireTmp.code = codeEntreeGlossaire;EntreeGlossaireTmp.nom = nomEntreeGlossaire;EntreeGlossaireTmp.posDocs = posDocs;EntreeGlossaireTmp.subParent=this;if (refGloss.length>0){EntreeGlossaireTmp.references = refGloss;}this.entrees.push(EntreeGlossaireTmp);}function CATs_ajouterSub(sub){sub.subParent=this;this.subs.push(sub);}function CATs_afficherEntree(index,nomRepertoire){var codeTmp=this.entrees[index].code;var nomLien='lien'+codeTmp;res='<a id="'+nomLien+'" href="javascript:afficher(\''+codeTmp+'\',\''+nomLien+'\')" class="STY_arboEntree">'+this.entrees[index].nom+'</a></br>'; return res;}function CATs_afficherentrees(nomRep){var res='';for (i=0;i<this.entrees.length;i++){res=res+this.afficherEntree(i,nomRep);}return res;}function CATs_afficher(nomRep){var nomImageFleche="imgFleche"+this.code;var nomLienSub="lienDiv"+this.code;res='<div class="STY_arboDivDossierTitre"><img class="STY_imgDossierGlo" id="'+nomImageFleche+'" src="'+sourceDossierFerme+'" align="top" hspace="1" onclick="basculerDiv(\''+this.code+'\')"/><a id="'+nomLienSub+'" href="javascript:basculerDiv(\''+this.code+'\')" class="STY_arboNomDossier">'+this.nom+'</a></div>'; res=res+'<div id="'+this.code+'" style="display:none" class="STY_arboDivDossier">'; res=res+this.afficherSubs(); res=res+this.afficherentrees(nomRep)+'</div>'; return res;}function CATs_afficherSubs(){var res='';var taille=this.subs.length;if (taille>0) {for (k=0;k<taille;k++){res=res+this.subs[k].afficher();}}return res;}function CATs_ouvrirSub(){changeImgBtn(PF_donneObjet("imgFleche"+this.code),sourceDossierOuvert);PF_afficherDiv(this.code);if (this.subs.length>0){var k=0;for (k=0;k<this.subs.length;k++){this.subs[k].ouvrirSub();}}}function CATs_fermerSub(){changeImgBtn(PF_donneObjet("imgFleche"+this.code),sourceDossierFerme);div=PF_donneObjet(this.code);div.style.display="none";if (this.subs.length>0){var k=0;for (k=0;k<this.subs.length;k++){this.subs[k].fermerSub();}}}function CATs_donneEntree(idEntree){var entree=null;var k;var trouve=false;for (k=0;k<this.entrees.length;k++){nomLien='lien'+this.code+'e'+k;if (idEntree==this.entrees[k].code){entree=this.entrees[k];trouve=true;}}if (!trouve){var i;for (i=0;i<this.subs.length;i++){var res=this.subs[i].donneEntree(idEntree);if (res!=null){entree=res;i=this.subs.length;}}}return entree;}function EntreeGlossaire() {this.nom; this.code; this.references; this.lien; this.subParent=null; this.posDocs;this.init=CAT_entree_init;this.aReferences=CAT_entree_aReferences;this.donneChemin=CAT_entree_donneChemin;this.donneDefinition=CAT_entree_donneDefinition;}function CAT_entree_init(){this.nom=''; this.code='';this.references=new Array();this.lien="";}function CAT_entree_aReferences(){return(this.references.length>0);}function CAT_entree_donneDefinition(){var res='';var oDiv=PF_donneObjet('divDef'+this.code);if (oDiv!=null){res=oDiv.innerHTML;}return res;}function CAT_entree_donneChemin(){var tabChemin = new Array;var leParent=this.subParent;while (leParent!=null){tabChemin.push(leParent.nom);leParent=leParent.subParent;}var res='';for (var n=tabChemin.length-1;n>=0;n--){if (n!=tabChemin.length-1){res=res+' / ';}res+=tabChemin[n];}return res;}
